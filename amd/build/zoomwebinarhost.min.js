define ("block_zoomwebinarhost/zoomwebinarhost",["jquery","core/log","core/fragment","core/templates","core/ajax"],function(a,b,c,d,f){return{init:function init(b,e){a(document).ready(function(){var g=a("[name=\"email\"]").val(),h=function(){a("input[name='email']").css({"border-color":"red"})};a("#id_add").click(function(g){g.preventDefault();g.stopPropagation();var i=a("input[name='email']").val().trim();if(!function validate(a){return /(?!.*\.{2})^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i.test((a+"").toLowerCase())&&(a+"").length}(i)){h();alert("Invalid email");return}var j={courseid:b,email:i},k=f.call([{methodname:"block_zoomwebinarhost_create_webinar_host",args:{courseid:b,email:i}}]);k[0].then(function(){c.loadFragment("block_zoomwebinarhost","formreload",e,j).done(function(b,c){M.core_formchangechecker.reset_form_dirty_state();d.replaceNodeContents(a(".mform"),b,c);document.location.reload()})}).catch(function(a){h();alert(a.message);console.log(a.message)})});a("[id*=\"id_delete\"]").click(function(g){g.preventDefault();g.stopPropagation();var h=g.target.id,i=h.split(/\_(?=[^\_]+$)/)[1],j=a("#fitem_id_host_"+i)[0].innerText.trim(),k={courseid:b,email:j},l=f.call([{methodname:"block_zoomwebinarhost_delete_webinar_host",args:{courseid:b,email:j}}]);l[0].then(function(){c.loadFragment("block_zoomwebinarhost","formreload",e,k).then(function(b,c){d.replaceNodeContents(a(".mform"),b,c)});document.location.reload()}).catch(function(a){console.log(a)})});a("#id_email").focus(function(b){a(b.target).val("").css({"border-color":""})})})}}});
//# sourceMappingURL=zoomwebinarhost.min.js.map
