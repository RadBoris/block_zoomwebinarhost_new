define ("block_zoomwebinarhost/reload",["jquery","core/log","core/fragment","core/templates","core/ajax"],function(a,b,d,e,f){return{init:function init(b,g){a("[name=\"email\"]").val();a("#id_add").click(function(i){i.preventDefault();var j=a("input[name='email']").val();if(!function validate(a){return /(?!.*\.{2})^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i.test((a+"").toLowerCase())&&(a+"").length}(j)){a("input[name='email']").css({"border-color":"red"});return}var k={courseid:b,email:j},l=f.call([{methodname:"block_zoomwebinarhost_create_webinar_host",args:{courseid:b,email:j}}]);l[0].then(function(){d.loadFragment("block_zoomwebinarhost","formreload",g,k).done(function(b){M.core_formchangechecker.reset_form_dirty_state();e.replaceNodeContents(a(".mform"),b,"");h()})}).catch(function(a){console.log(a);c})});a("[id*=\"id_delete\"]").click(function(h){h.preventDefault();h.stopPropagation();var i=h.target.id,j=i.split(/\_(?=[^\_]+$)/)[1],k=a("#fitem_id_host_"+j)[0].innerText.trim(),l={courseid:b,email:k},m=f.call([{methodname:"block_zoomwebinarhost_delete_webinar_host",args:{courseid:b,email:k}}]);m[0].then(function(){d.loadFragment("block_zoomwebinarhost","formreload",g,l).done(function(b,d){e.replaceNodeContents(a(".mform"),b,d)})}).catch(function(a){alert(a)})});a("#id_email").focus(function(b){a(b.target).val("").css({"border-color":""})});function h(){a.getScript("amd/src/zoomwebinarhost.js",function(){alert("Script loaded and executed.")})}}}});
//# sourceMappingURL=reload.min.js.map
